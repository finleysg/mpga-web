<div fxLayout="row wrap">
  <div fxFlex.gt-sm="33.33%" fxFlex="100">
    <mat-card *ngIf="club">
      <mat-card-header class="mat-teal">
        <mat-card-title>Club Maintenance Page</mat-card-title>
        <mat-card-subtitle>Update club information and contacts</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <button mat-stroked-button (click)="back()" color="primary" class="mr-1">Back</button>
        <button mat-flat-button (click)="addContact()" color="primary" class="mr-1">
          New Contact<mat-icon class="ml-1">person_add</mat-icon>
        </button>
        <button mat-flat-button color="accent" (click)="saveClub()">Save<mat-icon class="ml-1">save_alt</mat-icon></button>
      </mat-card-content>
      <mat-card-content *ngIf="instructions">
        <div [markdown]="instructions.content"></div>
      </mat-card-content>
    </mat-card>
  </div>
  <div fxFlex.gt-sm="33.33%" fxFlex="100">
    <mat-card *ngIf="club">
      <mat-card-header class="mat-teal">
        <mat-card-title>{{ club.name }}</mat-card-title>
        <mat-card-subtitle>Edit details about your club</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <app-club [club]="club"></app-club>
      </mat-card-content>
    </mat-card>
  </div>
  <div fxFlex.gt-sm="33.33%" fxFlex="100" *ngIf="club">
    <div *ngFor="let cc of club.clubContacts | contactFilter" class="mb-2">
      <mat-card>
        <mat-card-header class="mat-teal">
          <mat-card-title-group>
            <mat-card-title *ngIf="cc.contact.lastName">{{cc.contact.name}}</mat-card-title>
            <mat-card-title *ngIf="!cc.contact.lastName">New Contact</mat-card-title>
            <mat-card-subtitle>Edit or remove this contact</mat-card-subtitle>
          </mat-card-title-group>
          <div fxFlex></div>
          <button mat-icon-button color="warn" (click)="removeContact(cc)" class="remove-contact">
            <mat-icon>remove_circle</mat-icon>
          </button>
        </mat-card-header>
        <mat-card-content>
          <app-club-contact [clubContact]="cc"></app-club-contact>
        </mat-card-content>
      </mat-card>
    </div>
    <mat-card *ngIf="club">
      <mat-card-content>
        <button mat-flat-button (click)="addContact()" color="primary" class="mr-1">
          New Contact<mat-icon class="ml-1">person_add</mat-icon>
        </button>
        <button mat-flat-button color="accent" (click)="saveClub()">Save<mat-icon class="ml-1">save_alt</mat-icon></button>
      </mat-card-content>
    </mat-card>
  </div>
</div>
